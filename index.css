@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

/* ğŸ¨ ëª¨ë…¸ ìŠ¤íƒ€ì¼ ë””ìì¸ ì‹œìŠ¤í…œ - ì¼ê´€ëœ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ */
:root {
  /* ğŸ¯ í•µì‹¬ ë¸Œëœë“œ ìƒ‰ìƒ (ë‹¨ì¼ ìƒ‰ìƒ ê¸°ë°˜) */
  --primary: 220 13% 18%;          /* #2c3e50 - ì§„í•œ ë„¤ì´ë¹„ */
  --primary-foreground: 0 0% 100%; /* í°ìƒ‰ */
  
  /* ğŸŒŸ ì•¡ì„¼íŠ¸ ìƒ‰ìƒ (ë¸Œëœë“œ ìƒ‰ìƒì˜ ë³€í˜•) */
  --accent: 220 13% 25%;           /* #34495e - ë°ì€ ë„¤ì´ë¹„ */
  --accent-foreground: 0 0% 100%;  /* í°ìƒ‰ */
  
  /* âš ï¸ ìœ„í—˜/ê²½ê³  ìƒ‰ìƒ */
  --destructive: 0 84% 60%;        /* #ef4444 - ë ˆë“œ */
  --destructive-foreground: 0 0% 100%; /* í°ìƒ‰ */
  
  /* ğŸ¨ ì¤‘ì„±ìƒ‰ ì‹œìŠ¤í…œ (ëª¨ë…¸í¬ë¡¬ ê¸°ë°˜) */
  --background: 0 0% 100%;         /* ìˆœë°± */
  --foreground: 220 13% 18%;       /* ì§„í•œ ë„¤ì´ë¹„ */
  
  --card: 0 0% 100%;               /* ìˆœë°± */
  --card-foreground: 220 13% 18%;  /* ì§„í•œ ë„¤ì´ë¹„ */
  
  --secondary: 220 13% 96%;        /* ë§¤ìš° ì—°í•œ ë„¤ì´ë¹„ */
  --secondary-foreground: 220 13% 18%; /* ì§„í•œ ë„¤ì´ë¹„ */
  
  --muted: 220 13% 94%;            /* ì—°í•œ ë„¤ì´ë¹„ */
  --muted-foreground: 220 13% 45%; /* ì¤‘ê°„ ë„¤ì´ë¹„ */
  
  /* ğŸ¯ UI ìš”ì†Œ */
  --border: 220 13% 90%;           /* ì—°í•œ ë„¤ì´ë¹„ */
  --input: 220 13% 90%;            /* ì—°í•œ ë„¤ì´ë¹„ */
  --ring: 220 13% 18%;             /* ì§„í•œ ë„¤ì´ë¹„ */
  
  /* ğŸ“ ê¸°ë³¸ ë°˜ê²½ */
  --radius: 0.75rem;
}

/* ğŸŒ™ ë‹¤í¬ëª¨ë“œ (ë™ì¼í•œ ìƒ‰ìƒ íŒ”ë ˆíŠ¸, ë°ê¸°ë§Œ ë°˜ì „) */
.dark {
  --primary: 220 13% 85%;          /* ë°ì€ ë„¤ì´ë¹„ */
  --primary-foreground: 220 13% 18%; /* ì§„í•œ ë„¤ì´ë¹„ */
  
  --accent: 220 13% 75%;           /* ì¤‘ê°„ ë°ê¸° ë„¤ì´ë¹„ */
  --accent-foreground: 220 13% 18%; /* ì§„í•œ ë„¤ì´ë¹„ */
  
  --destructive: 0 84% 60%;        /* ë ˆë“œëŠ” ë™ì¼ */
  --destructive-foreground: 0 0% 100%;
  
  --background: 220 13% 8%;        /* ë§¤ìš° ì§„í•œ ë„¤ì´ë¹„ */
  --foreground: 220 13% 95%;       /* ë§¤ìš° ë°ì€ ë„¤ì´ë¹„ */
  
  --card: 220 13% 10%;             /* ì§„í•œ ë„¤ì´ë¹„ */
  --card-foreground: 220 13% 95%;  /* ë§¤ìš° ë°ì€ ë„¤ì´ë¹„ */
  
  --secondary: 220 13% 15%;        /* ì§„í•œ ë„¤ì´ë¹„ */
  --secondary-foreground: 220 13% 95%; /* ë§¤ìš° ë°ì€ ë„¤ì´ë¹„ */
  
  --muted: 220 13% 20%;            /* ì¤‘ê°„ ì§„í•œ ë„¤ì´ë¹„ */
  --muted-foreground: 220 13% 65%; /* ì¤‘ê°„ ë°ê¸° ë„¤ì´ë¹„ */
  
  --border: 220 13% 25%;           /* ì¤‘ê°„ ì§„í•œ ë„¤ì´ë¹„ */
  --input: 220 13% 25%;            /* ì¤‘ê°„ ì§„í•œ ë„¤ì´ë¹„ */
  --ring: 220 13% 85%;             /* ë°ì€ ë„¤ì´ë¹„ */
}

/* ğŸŒŸ ê¸°ë³¸ ìŠ¤íƒ€ì¼ (ëª¨ë…¸ ìŠ¤íƒ€ì¼ ì¼ê´€ì„±) */
* {
  border-color: hsl(var(--border));
}

*::before,
*::after {
  border-color: hsl(var(--border));
}

/* í—¤ë” ìµœì†Œ ë†’ì´ ì„¤ì • */
header {
  min-height: 64px;
}

body { 
  margin: 0;
  padding: 0;
  /* ğŸ“ í°íŠ¸ ì‹œìŠ¤í…œ (ë‹¨ì¼ í°íŠ¸ íŒ¨ë°€ë¦¬) */
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  
  /* ğŸ¯ í…ìŠ¤íŠ¸ ìµœì í™” */
  font-feature-settings: "rlig" 1, "calt" 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  
  /* ğŸ“± ëª¨ë°”ì¼ ìµœì í™” */
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  
  /* ğŸ“ ê¸°ë³¸ í…ìŠ¤íŠ¸ í¬ê¸° */
  font-size: 14px;
  line-height: 1.6;
  
  /* ğŸ­ ìŠ¤í¬ë¡¤ ë™ì‘ */
  overflow-x: hidden;
  scroll-behavior: smooth;
}

/* ğŸ“± ë°˜ì‘í˜• í…ìŠ¤íŠ¸ */
@media (min-width: 640px) {
  body {
    font-size: 16px;
  }
}

/* ğŸ“± ëª¨ë°”ì¼ ìµœì í™” */
@media (max-width: 640px) {
  /* ëª¨ë°”ì¼ì—ì„œ í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ ê°•í™” */
  .text-center {
    text-align: center !important;
  }
  
  /* ëª¨ë°”ì¼ì—ì„œ íŒ¨ë”© ìµœì í™” */
  .p-8 {
    padding: 1rem;
  }
  
  /* ëª¨ë°”ì¼ì—ì„œ í°íŠ¸ í¬ê¸° ìµœì í™” */
  body {
    font-size: 14px;
    line-height: 1.5;
  }
  
  /* ëª¨ë°”ì¼ì—ì„œ ë²„íŠ¼ í¬ê¸° ìµœì í™” */
  button {
    min-height: 44px;
    touch-action: manipulation;
  }
  
  /* ëª¨ë°”ì¼ì—ì„œ ì…ë ¥ í•„ë“œ ìµœì í™” */
  input, textarea {
    font-size: 16px; /* iOS ì¤Œ ë°©ì§€ */
    touch-action: manipulation;
  }
  
  /* ëª¨ë°”ì¼ì—ì„œ ëª¨ë‹¬ ìµœì í™” */
  .fixed {
    position: fixed;
  }
  
  /* ëª¨ë°”ì¼ì—ì„œ ìŠ¤í¬ë¡¤ ë°©ì§€ */
  body.modal-open {
    overflow: hidden;
  }
  
  /* ëª¨ë°”ì¼ì—ì„œ ì‚¬ì´ë“œë°” ëª¨ë‹¬ ìµœì í™” */
  .sidebar-modal {
    z-index: 9999;
  }
  
  /* ëª¨ë°”ì¼ì—ì„œ ì…ë ¥ì°½ ê³ ì • */
  .input-container {
    position: sticky;
    bottom: 0;
    background: inherit;
    z-index: 10;
  }
}

/* ğŸ¨ ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ (ëª¨ë…¸ ìŠ¤íƒ€ì¼) */
.chat-container::-webkit-scrollbar { 
  width: 8px; 
}

.chat-container::-webkit-scrollbar-thumb { 
  background-color: hsl(var(--muted-foreground) / 0.3); 
  border-radius: 4px; 
}

.chat-container::-webkit-scrollbar-track { 
  background-color: transparent; 
}

/* ğŸ’¬ ë©”ì‹œì§€ ë²„ë¸” ìŠ¤íƒ€ì¼ (ëª¨ë…¸ ìŠ¤íƒ€ì¼ ì¼ê´€ì„±) */
.bubble {
  position: relative;
  padding: 16px 20px;
  border-radius: 16px;
  max-width: 75%;  /* ê¸°ë³¸ ë„ˆë¹„ë¥¼ 75%ë¡œ ì„¤ì • */
  font-size: 14px;
  line-height: 1.6;
  word-wrap: break-word;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* ğŸ“± ë°˜ì‘í˜• ë„ˆë¹„ ì¡°ì • - êµì°¨ íš¨ê³¼ ê°•í™” */
@media (min-width: 768px) {
  .bubble {
    max-width: 75%;  /* íƒœë¸”ë¦¿ì—ì„œë„ 75% ìœ ì§€ */
  }
}

@media (min-width: 1024px) {
  .bubble {
    max-width: 75%;  /* ë°ìŠ¤í¬í†±ì—ì„œë„ 75% ìœ ì§€ */
  }
}

/* ğŸ“± ëª¨ë°”ì¼ì—ì„œëŠ” ì•½ê°„ ì¢ê²Œ */
@media (max-width: 767px) {
  .bubble {
    max-width: 85%;  /* ëª¨ë°”ì¼ì—ì„œëŠ” 85% */
  }
}

.bubble::after {
  content: '';
  position: absolute;
  top: 16px;
  width: 0;
  height: 0;
  border: 8px solid transparent;
}

/* ğŸ‘¤ ì‚¬ìš©ì ë©”ì‹œì§€ (ì§„í•œ ë„¤ì´ë¹„ ë°°ê²½ + í°ìƒ‰ í…ìŠ¤íŠ¸) */
.bubble-user {
  background-color: #2c3e50 !important;     /* ì§„í•œ ë„¤ì´ë¹„ ë°°ê²½ - ì§ì ‘ ìƒ‰ìƒ ê°’ */
  color: #ffffff !important;                /* í°ìƒ‰ í…ìŠ¤íŠ¸ - ì§ì ‘ ìƒ‰ìƒ ê°’ */
  border: none !important;
  border-bottom-right-radius: 6px;
  margin-left: auto;
  margin-right: 0;  /* ì˜¤ë¥¸ìª½ ëì— ì™„ì „íˆ ë¶™ì„ */
}

.bubble-user * {
  color: #ffffff !important;                /* ë‚´ë¶€ ëª¨ë“  ìš”ì†Œ í°ìƒ‰ - ì§ì ‘ ìƒ‰ìƒ ê°’ */
}

.bubble-user::after {
  right: -8px;
  border-left-color: #2c3e50 !important;    /* ì§„í•œ ë„¤ì´ë¹„ ê¼¬ë¦¬ - ì§ì ‘ ìƒ‰ìƒ ê°’ */
  border-right: 0;
  border-top: 0;
  margin-top: -2px;
}

/* ğŸ¤– AI ë‹µë³€ (ì¹´ë“œ ìŠ¤íƒ€ì¼) */
.bubble-model {
  background-color: hsl(var(--card));
  color: hsl(var(--card-foreground));
  border: 1px solid hsl(var(--border));
  border-bottom-left-radius: 6px;
  margin-right: auto;
  margin-left: 0;  /* ì™¼ìª½ ëì— ì™„ì „íˆ ë¶™ì„ */
}

/* ğŸŒ™ ë‹¤í¬ëª¨ë“œ AI ë‹µë³€ ìŠ¤íƒ€ì¼ */
.dark .bubble-model {
  background-color: #374151 !important;  /* gray-700 - ë” ë”°ëœ»í•œ ì§™ì€ íšŒìƒ‰ */
  color: #f9fafb !important;             /* gray-50 - ë” ë°ì€ í…ìŠ¤íŠ¸ */
  border-color: #4b5563 !important;      /* gray-600 - ì¡°í™”ë¡œìš´ í…Œë‘ë¦¬ */
}

.dark .bubble-model::after {
  border-right-color: #374151 !important;  /* gray-700 */
}

.dark .bubble-model::before {
  border-right-color: #4b5563 !important;  /* gray-600 */
}

.bubble-model::after {
  left: -9px;
  border-right: 9px solid hsl(var(--card));
  border-top: 8px solid transparent;
  border-bottom: 8px solid transparent;
  border-left: 0;
  margin-top: -8px;
}

.bubble-model::before {
  content: '';
  position: absolute;
  top: 16px;
  left: -10px;
  border-right: 10px solid hsl(var(--border));
  border-top: 9px solid transparent;
  border-bottom: 9px solid transparent;
  border-left: 0;
  margin-top: -9px;
}

/* ğŸ“ ë§ˆí¬ë‹¤ìš´ ë Œë”ë§ ìŠ¤íƒ€ì¼ */
.prose {
  line-height: 1.6;
  color: hsl(var(--foreground));
  font-size: 14px !important;
  font-family: 'Inter', sans-serif;
}

.prose p {
  margin-bottom: 1em;
  line-height: 1.6;
  font-size: 14px !important;
}

.prose ul, .prose ol {
  margin-left: 1.5em;
  margin-bottom: 1em;
  font-size: 14px !important;
}

.prose li {
  margin-bottom: 0.5em;
  line-height: 1.5;
  font-size: 14px !important;
}

.prose strong {
  font-weight: 600;
  color: hsl(var(--foreground));
  font-size: 14px !important;
}

.prose em {
  font-style: italic;
  font-size: 14px !important;
}

.prose code {
  background-color: hsl(var(--muted));
  color: hsl(var(--foreground));
  padding: 0.25rem 0.5rem;
  border-radius: 0.375rem;
  font-size: 13px !important;
  font-family: 'Inter', monospace;
  border: 1px solid hsl(var(--border));
}

.prose a { 
  color: hsl(var(--primary)); 
  text-decoration: none;
  font-weight: 500;
}

.prose a:hover { 
  color: hsl(var(--primary) / 0.8); 
  text-decoration: underline;
}

.prose blockquote {
  font-size: 14px !important;
  border-left: 4px solid hsl(var(--primary));
  padding-left: 1em;
  margin-left: 0;
  color: hsl(var(--muted-foreground));
  background-color: hsl(var(--muted) / 0.3);
  padding: 1em;
  border-radius: 0 0.5rem 0.5rem 0;
}

.prose pre {
  font-size: 13px !important;
  background-color: hsl(var(--muted));
  color: hsl(var(--foreground));
  padding: 1rem;
  border-radius: 0.75rem;
  overflow-x: auto;
  border: 1px solid hsl(var(--border));
}

.prose table {
  font-size: 14px !important;
  border-collapse: collapse;
  width: 100%;
  border: 1px solid hsl(var(--border));
  border-radius: 0.5rem;
  overflow: hidden;
}

.prose th, .prose td {
  font-size: 14px !important;
  padding: 0.75rem;
  border: 1px solid hsl(var(--border));
}

.prose th {
  background-color: hsl(var(--muted));
  font-weight: 600;
  color: hsl(var(--foreground));
}

/* ğŸ­ ì• ë‹ˆë©”ì´ì…˜ ì‹œìŠ¤í…œ */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes typing {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

@keyframes pulseSoft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.message-item {
  animation: fadeInUp 0.3s ease-out;
}

.typing-cursor {
  animation: typing 1s infinite;
}

/* ğŸ¨ ì‚¬ì´ë“œë°” ìŠ¤í¬ë¡¤ë°” */
.sidebar-scroll::-webkit-scrollbar {
  width: 6px;
}

.sidebar-scroll::-webkit-scrollbar-thumb { 
  background-color: hsl(var(--muted-foreground) / 0.15);
  border-radius: 3px;
}

.sidebar-scroll::-webkit-scrollbar-track {
  background-color: transparent;
}

/* ğŸ”§ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ */
.text-balance {
  text-wrap: balance;
}

.text-pretty {
  text-wrap: pretty;
}

.touch-manipulation {
  touch-action: manipulation;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ğŸ¯ í¬ì»¤ìŠ¤ í‘œì‹œ (ì ‘ê·¼ì„±) */
.focus-visible\:ring-ring:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

.focus-visible:outline-none {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

/* ğŸ“± ëª¨ë°”ì¼ ìµœì í™” */
@media (max-width: 640px) {
  .bubble {
    max-width: 90%;
    padding: 14px 18px;
    font-size: 13px;
  }
  
  .prose {
    font-size: 13px !important;
  }
  
  .prose p, .prose li, .prose strong, .prose em {
    font-size: 13px !important;
  }
  
  /* í„°ì¹˜ íƒ€ê²Ÿ ìµœì†Œ í¬ê¸° */
  button, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* ğŸ–¥ï¸ ë°ìŠ¤í¬í†± ìµœì í™” */
@media (min-width: 1024px) {
  .chat-container {
    scrollbar-width: thin;
  }
  
  .sidebar-scroll {
    scrollbar-width: thin;
  }
}

/* ğŸŒ™ ë‹¤í¬ëª¨ë“œ íŠ¹í™” */
@media (prefers-color-scheme: dark) {
  .dark .chat-container::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground) / 0.4);
  }
  
  .dark .sidebar-scroll::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground) / 0.2);
  }
}